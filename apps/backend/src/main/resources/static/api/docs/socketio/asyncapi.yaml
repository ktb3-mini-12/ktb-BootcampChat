asyncapi: 3.0.0
info:
  title: KTB Chat Application - Socket.IO API
  version: 1.0.0
  description: |
    ì‹¤ì‹œê°„ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Socket.IO ì´ë²¤íŠ¸ API ë¬¸ì„œì…ë‹ˆë‹¤.

    ì´ ë¬¸ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ëª¨ë“  Socket.IO ì´ë²¤íŠ¸ì™€ í˜ì´ë¡œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

    ## ì£¼ìš” ê¸°ëŠ¥
    - ì‹¤ì‹œê°„ ì±„íŒ… ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ 
    - ì±„íŒ…ë°© ì…ì¥/í‡´ì¥ ê´€ë¦¬
    - ë©”ì‹œì§€ ì½ìŒ ìƒíƒœ ì²˜ë¦¬
    - ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ (ì´ëª¨ì§€)
    - AI ìŠ¤íŠ¸ë¦¬ë° ë©”ì‹œì§€
    - íŒŒì¼ ì „ì†¡

  contact:
    name: KTB Chat Team
    email: support@ktbchat.com

servers:
  production:
    host: '{host}:{port}'
    protocol: wss
    description: Socket.IO ì„œë²„
    variables:
      host:
        default: localhost
        description: ì„œë²„ í˜¸ìŠ¤íŠ¸
      port:
        default: '5002'
        description: Socket.IO í¬íŠ¸

channels:
  # ============================================
  # Client â†’ Server Events (í´ë¼ì´ì–¸íŠ¸ê°€ ì „ì†¡í•˜ëŠ” ì´ë²¤íŠ¸)
  # ============================================

  chatMessage:
    address: chatMessage
    messages:
      chatMessagePayload:
        $ref: '#/components/messages/ChatMessagePayload'
    description: |
      ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡ ì´ë²¤íŠ¸.

      ê¸ˆì¹™ì–´ê°€ í¬í•¨ëœ ë©”ì‹œì§€ëŠ” ì„œë²„ì—ì„œ ì°¨ë‹¨ë˜ë©°, ì´ ê²½ìš° `error` ì´ë²¤íŠ¸ë¡œ
      `MESSAGE_REJECTED` ì½”ë“œê°€ ë°˜í™˜ë©ë‹ˆë‹¤.

  joinRoom:
    address: joinRoom
    messages:
      joinRoomPayload:
        $ref: '#/components/messages/JoinRoomPayload'
    description: ì±„íŒ…ë°© ì…ì¥ ì´ë²¤íŠ¸

  leaveRoom:
    address: leaveRoom
    messages:
      leaveRoomPayload:
        $ref: '#/components/messages/LeaveRoomPayload'
    description: ì±„íŒ…ë°© í‡´ì¥ ì´ë²¤íŠ¸

  fetchPreviousMessages:
    address: fetchPreviousMessages
    messages:
      fetchPreviousMessagesPayload:
        $ref: '#/components/messages/FetchPreviousMessagesPayload'
    description: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ìš”ì²­ ì´ë²¤íŠ¸

  markMessagesAsRead:
    address: markMessagesAsRead
    messages:
      markMessagesAsReadPayload:
        $ref: '#/components/messages/MarkMessagesAsReadPayload'
    description: ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬ ì´ë²¤íŠ¸

  messageReaction:
    address: messageReaction
    messages:
      messageReactionPayload:
        $ref: '#/components/messages/MessageReactionPayload'
    description: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì¶”ê°€/ì œê±° ì´ë²¤íŠ¸

  # ============================================
  # Server â†’ Client Events (ì„œë²„ê°€ ì „ì†¡í•˜ëŠ” ì´ë²¤íŠ¸)
  # ============================================

  message:
    address: message
    messages:
      messageResponse:
        $ref: '#/components/messages/MessageResponse'
    description: ìƒˆë¡œìš´ ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŠ¸

  error:
    address: error
    messages:
      errorResponse:
        $ref: '#/components/messages/ErrorResponse'
    description: |
      ì—ëŸ¬ ì•Œë¦¼. Socket.IO ì´ë²¤íŠ¸ ì²˜ë¦¬ ì¤‘ ë°œìƒí•˜ëŠ” ëª¨ë“  ì—ëŸ¬ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

      **ì—ëŸ¬ ì½”ë“œ ëª©ë¡:**

      **ì¸ì¦/ì„¸ì…˜ ê´€ë ¨:**
      - `SESSION_EXPIRED`: ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆê±°ë‚˜ ì¸ì¦ ì •ë³´ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ
      - `UNAUTHORIZED`: ì¸ì¦ì´ í•„ìš”í•œ ì‘ì—…ì„ ì‹œë„í•¨

      **ë©”ì‹œì§€ ê´€ë ¨:**
      - `MESSAGE_ERROR`: ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘ ì¼ë°˜ ì˜¤ë¥˜ (ë°ì´í„° ì—†ìŒ, ì‚¬ìš©ì ì—†ìŒ, ê¶Œí•œ ì—†ìŒ ë“±)
      - `MESSAGE_REJECTED`: ê¸ˆì¹™ì–´ê°€ í¬í•¨ë˜ì–´ ë©”ì‹œì§€ê°€ ì°¨ë‹¨ë¨
      - `RATE_LIMIT_EXCEEDED`: ë©”ì‹œì§€ ì „ì†¡ íšŸìˆ˜ ì œí•œì„ ì´ˆê³¼í–ˆì„ ë•Œ
      - `LOAD_ERROR`: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ

      **ì°¸ê³ :** ì¼ë¶€ í•¸ë“¤ëŸ¬ì—ì„œëŠ” `code` ì—†ì´ `message`ë§Œ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  joinRoomSuccess:
    address: joinRoomSuccess
    messages:
      joinRoomSuccessResponse:
        $ref: '#/components/messages/JoinRoomSuccessResponse'
    description: ì±„íŒ…ë°© ì…ì¥ ì„±ê³µ

  joinRoomError:
    address: joinRoomError
    messages:
      joinRoomErrorResponse:
        $ref: '#/components/messages/JoinRoomErrorResponse'
    description: |
      ì±„íŒ…ë°© ì…ì¥ ì‹¤íŒ¨.

      **ë°œìƒ ê°€ëŠ¥í•œ ì—ëŸ¬:**
      - `UNAUTHORIZED`: ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ì
      - `USER_NOT_FOUND`: ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
      - `ROOM_NOT_FOUND`: ì±„íŒ…ë°©ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
      - `JOIN_ROOM_ERROR`: ê¸°íƒ€ ì±„íŒ…ë°© ì…ì¥ ì˜¤ë¥˜

  previousMessagesLoaded:
    address: previousMessagesLoaded
    messages:
      previousMessagesLoadedResponse:
        $ref: '#/components/messages/PreviousMessagesLoadedResponse'
    description: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì™„ë£Œ

  messageLoadStart:
    address: messageLoadStart
    messages:
      messageLoadStartResponse:
        $ref: '#/components/messages/MessageLoadStartResponse'
    description: ë©”ì‹œì§€ ë¡œë“œ ì‹œì‘

  participantsUpdate:
    address: participantsUpdate
    messages:
      participantsUpdateResponse:
        $ref: '#/components/messages/ParticipantsUpdateResponse'
    description: ì°¸ê°€ì ì—…ë°ì´íŠ¸

  roomCreated:
    address: roomCreated
    messages:
      roomCreatedResponse:
        $ref: '#/components/messages/RoomResponse'
    description: ì±„íŒ…ë°© ìƒì„± ì•Œë¦¼

  roomUpdated:
    address: roomUpdated
    messages:
      roomUpdatedResponse:
        $ref: '#/components/messages/RoomResponse'
    description: ì±„íŒ…ë°© ì •ë³´ ì—…ë°ì´íŠ¸

  roomDeleted:
    address: roomDeleted
    messages:
      roomDeletedResponse:
        $ref: '#/components/messages/RoomDeletedResponse'
    description: ì±„íŒ…ë°© ì‚­ì œ ì•Œë¦¼

  userLeft:
    address: userLeft
    messages:
      userLeftResponse:
        $ref: '#/components/messages/UserLeftResponse'
    description: ì‚¬ìš©ì í‡´ì¥ ì•Œë¦¼

  messagesRead:
    address: messagesRead
    messages:
      messagesReadResponse:
        $ref: '#/components/messages/MessagesReadResponse'
    description: ë©”ì‹œì§€ ì½ìŒ ìƒíƒœ ì—…ë°ì´íŠ¸

  messageReactionUpdate:
    address: messageReactionUpdate
    messages:
      messageReactionUpdateResponse:
        $ref: '#/components/messages/MessageReactionUpdateResponse'
    description: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì—…ë°ì´íŠ¸

  duplicateLogin:
    address: duplicate_login
    messages:
      duplicateLoginResponse:
        $ref: '#/components/messages/DuplicateLoginResponse'
    description: ì¤‘ë³µ ë¡œê·¸ì¸ ê°ì§€

  sessionEnded:
    address: session_ended
    messages:
      sessionEndedResponse:
        $ref: '#/components/messages/SessionEndedResponse'
    description: ì„¸ì…˜ ì¢…ë£Œ ì•Œë¦¼

  # ============================================
  # AI Streaming Events
  # ============================================

  aiMessageStart:
    address: aiMessageStart
    messages:
      aiMessageStartResponse:
        $ref: '#/components/messages/AiMessageStartResponse'
    description: AI ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘

  aiMessageChunk:
    address: aiMessageChunk
    messages:
      aiMessageChunkResponse:
        $ref: '#/components/messages/AiMessageChunkResponse'
    description: AI ìŠ¤íŠ¸ë¦¬ë° ì²­í¬

  aiMessageComplete:
    address: aiMessageComplete
    messages:
      aiMessageCompleteResponse:
        $ref: '#/components/messages/AiMessageCompleteResponse'
    description: AI ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ

  aiMessageError:
    address: aiMessageError
    messages:
      aiMessageErrorResponse:
        $ref: '#/components/messages/AiMessageErrorResponse'
    description: AI ìŠ¤íŠ¸ë¦¬ë° ì—ëŸ¬

operations:
  # Client â†’ Server Operations
  sendChatMessage:
    action: send
    channel:
      $ref: '#/channels/chatMessage'
    summary: ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡
    description: |
      í´ë¼ì´ì–¸íŠ¸ê°€ ì±„íŒ… ë©”ì‹œì§€ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ì‘ë‹µ (error ì´ë²¤íŠ¸):**
      - `MESSAGE_ERROR`: ë©”ì‹œì§€ ë°ì´í„° ì—†ìŒ, ì‚¬ìš©ì ì—†ìŒ, ì±„íŒ…ë°© ê¶Œí•œ ì—†ìŒ, íŒŒì¼ ì˜¤ë¥˜
      - `SESSION_EXPIRED`: ì„¸ì…˜ ë§Œë£Œ
      - `MESSAGE_REJECTED`: ê¸ˆì¹™ì–´ í¬í•¨

  sendJoinRoom:
    action: send
    channel:
      $ref: '#/channels/joinRoom'
    summary: ì±„íŒ…ë°© ì…ì¥
    description: |
      í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ì±„íŒ…ë°©ì— ì…ì¥í•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ì‘ë‹µ (joinRoomError ì´ë²¤íŠ¸):**
      - `UNAUTHORIZED`: ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ì
      - `USER_NOT_FOUND`: ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
      - `ROOM_NOT_FOUND`: ì±„íŒ…ë°©ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
      - `JOIN_ROOM_ERROR`: ê¸°íƒ€ ì…ì¥ ì˜¤ë¥˜

  sendLeaveRoom:
    action: send
    channel:
      $ref: '#/channels/leaveRoom'
    summary: ì±„íŒ…ë°© í‡´ì¥
    description: |
      í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ì±„íŒ…ë°©ì—ì„œ í‡´ì¥í•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ì‘ë‹µ (error ì´ë²¤íŠ¸):**
      - messageë§Œ ë°˜í™˜: "Unauthorized", "ì±„íŒ…ë°© í‡´ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."

  sendFetchPreviousMessages:
    action: send
    channel:
      $ref: '#/channels/fetchPreviousMessages'
    summary: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ìš”ì²­
    description: |
      í´ë¼ì´ì–¸íŠ¸ê°€ ì´ì „ ë©”ì‹œì§€ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ì‘ë‹µ (error ì´ë²¤íŠ¸):**
      - `UNAUTHORIZED`: ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤
      - `LOAD_ERROR`: ì±„íŒ…ë°© ê¶Œí•œ ì—†ìŒ, ë©”ì‹œì§€ ë¡œë“œ ì¤‘ ì˜¤ë¥˜

  sendMarkMessagesAsRead:
    action: send
    channel:
      $ref: '#/channels/markMessagesAsRead'
    summary: ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬
    description: |
      í´ë¼ì´ì–¸íŠ¸ê°€ ë©”ì‹œì§€ë¥¼ ì½ìŒìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ì‘ë‹µ (error ì´ë²¤íŠ¸):**
      - messageë§Œ ë°˜í™˜: "Unauthorized", "Invalid room", "User not found", "Room access denied", "ì½ìŒ ìƒíƒœ ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."

  sendMessageReaction:
    action: send
    channel:
      $ref: '#/channels/messageReaction'
    summary: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì¶”ê°€/ì œê±°
    description: |
      í´ë¼ì´ì–¸íŠ¸ê°€ ë©”ì‹œì§€ì— ë¦¬ì•¡ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•©ë‹ˆë‹¤.

      **ì˜ˆì™¸ ì‘ë‹µ (error ì´ë²¤íŠ¸):**
      - messageë§Œ ë°˜í™˜: "Unauthorized", "ë©”ì‹œì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", "ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¦¬ì•¡ì…˜ íƒ€ì…ì…ë‹ˆë‹¤.", "ë¦¬ì•¡ì…˜ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."

  # Server â†’ Client Operations
  receiveMessage:
    action: receive
    channel:
      $ref: '#/channels/message'
    summary: ìƒˆë¡œìš´ ë©”ì‹œì§€ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ìƒˆë¡œìš´ ë©”ì‹œì§€ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•©ë‹ˆë‹¤.

  receiveError:
    action: receive
    channel:
      $ref: '#/channels/error'
    summary: ì—ëŸ¬ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì—ëŸ¬ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.

  receiveJoinRoomSuccess:
    action: receive
    channel:
      $ref: '#/channels/joinRoomSuccess'
    summary: ì±„íŒ…ë°© ì…ì¥ ì„±ê³µ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì±„íŒ…ë°© ì…ì¥ ì„±ê³µì„ ì•Œë¦½ë‹ˆë‹¤.

  receiveJoinRoomError:
    action: receive
    channel:
      $ref: '#/channels/joinRoomError'
    summary: ì±„íŒ…ë°© ì…ì¥ ì‹¤íŒ¨ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì±„íŒ…ë°© ì…ì¥ ì‹¤íŒ¨ë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receivePreviousMessagesLoaded:
    action: receive
    channel:
      $ref: '#/channels/previousMessagesLoaded'
    summary: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì™„ë£Œ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì™„ë£Œë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveMessageLoadStart:
    action: receive
    channel:
      $ref: '#/channels/messageLoadStart'
    summary: ë©”ì‹œì§€ ë¡œë“œ ì‹œì‘ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ë©”ì‹œì§€ ë¡œë“œ ì‹œì‘ì„ ì•Œë¦½ë‹ˆë‹¤.

  receiveParticipantsUpdate:
    action: receive
    channel:
      $ref: '#/channels/participantsUpdate'
    summary: ì°¸ê°€ì ì—…ë°ì´íŠ¸ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì°¸ê°€ì ëª©ë¡ ì—…ë°ì´íŠ¸ë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveRoomCreated:
    action: receive
    channel:
      $ref: '#/channels/roomCreated'
    summary: ì±„íŒ…ë°© ìƒì„± ì•Œë¦¼ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ìƒˆë¡œìš´ ì±„íŒ…ë°© ìƒì„±ì„ ì•Œë¦½ë‹ˆë‹¤.

  receiveRoomUpdated:
    action: receive
    channel:
      $ref: '#/channels/roomUpdated'
    summary: ì±„íŒ…ë°© ì—…ë°ì´íŠ¸ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì±„íŒ…ë°© ì •ë³´ ì—…ë°ì´íŠ¸ë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveRoomDeleted:
    action: receive
    channel:
      $ref: '#/channels/roomDeleted'
    summary: ì±„íŒ…ë°© ì‚­ì œ ì•Œë¦¼ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì±„íŒ…ë°© ì‚­ì œë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveUserLeft:
    action: receive
    channel:
      $ref: '#/channels/userLeft'
    summary: ì‚¬ìš©ì í‡´ì¥ ì•Œë¦¼ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì‚¬ìš©ì í‡´ì¥ì„ ì•Œë¦½ë‹ˆë‹¤.

  receiveMessagesRead:
    action: receive
    channel:
      $ref: '#/channels/messagesRead'
    summary: ë©”ì‹œì§€ ì½ìŒ ìƒíƒœ ì—…ë°ì´íŠ¸ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ë©”ì‹œì§€ ì½ìŒ ìƒíƒœë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveMessageReactionUpdate:
    action: receive
    channel:
      $ref: '#/channels/messageReactionUpdate'
    summary: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì—…ë°ì´íŠ¸ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì—…ë°ì´íŠ¸ë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveDuplicateLogin:
    action: receive
    channel:
      $ref: '#/channels/duplicateLogin'
    summary: ì¤‘ë³µ ë¡œê·¸ì¸ ê°ì§€ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì¤‘ë³µ ë¡œê·¸ì¸ì„ ê°ì§€í–ˆìŒì„ ì•Œë¦½ë‹ˆë‹¤.

  receiveSessionEnded:
    action: receive
    channel:
      $ref: '#/channels/sessionEnded'
    summary: ì„¸ì…˜ ì¢…ë£Œ ì•Œë¦¼ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ ì„¸ì…˜ ì¢…ë£Œë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveAiMessageStart:
    action: receive
    channel:
      $ref: '#/channels/aiMessageStart'
    summary: AI ë©”ì‹œì§€ ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ AI ë©”ì‹œì§€ ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘ì„ ì•Œë¦½ë‹ˆë‹¤.

  receiveAiMessageChunk:
    action: receive
    channel:
      $ref: '#/channels/aiMessageChunk'
    summary: AI ë©”ì‹œì§€ ì²­í¬ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ AI ë©”ì‹œì§€ ì²­í¬ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.

  receiveAiMessageComplete:
    action: receive
    channel:
      $ref: '#/channels/aiMessageComplete'
    summary: AI ë©”ì‹œì§€ ì™„ë£Œ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ AI ë©”ì‹œì§€ ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œë¥¼ ì•Œë¦½ë‹ˆë‹¤.

  receiveAiMessageError:
    action: receive
    channel:
      $ref: '#/channels/aiMessageError'
    summary: AI ë©”ì‹œì§€ ì—ëŸ¬ ìˆ˜ì‹ 
    description: ì„œë²„ê°€ AI ë©”ì‹œì§€ ì—ëŸ¬ë¥¼ ì•Œë¦½ë‹ˆë‹¤.

components:
  messages:
    # ============================================
    # Client â†’ Server Payloads
    # ============================================

    ChatMessagePayload:
      name: ChatMessage
      title: ì±„íŒ… ë©”ì‹œì§€
      summary: ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/ChatMessageRequest'

    JoinRoomPayload:
      name: JoinRoom
      title: ì±„íŒ…ë°© ì…ì¥
      summary: ì±„íŒ…ë°© ì…ì¥ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: string
        description: ì…ì¥í•  ì±„íŒ…ë°© ID
        example: '507f1f77bcf86cd799439011'

    LeaveRoomPayload:
      name: LeaveRoom
      title: ì±„íŒ…ë°© í‡´ì¥
      summary: ì±„íŒ…ë°© í‡´ì¥ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: string
        description: í‡´ì¥í•  ì±„íŒ…ë°© ID
        example: '507f1f77bcf86cd799439011'

    FetchPreviousMessagesPayload:
      name: FetchPreviousMessages
      title: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ìš”ì²­
      summary: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ìš”ì²­ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/FetchMessagesRequest'

    MarkMessagesAsReadPayload:
      name: MarkMessagesAsRead
      title: ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬
      summary: ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/MarkAsReadRequest'

    MessageReactionPayload:
      name: MessageReaction
      title: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜
      summary: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì¶”ê°€/ì œê±° í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/MessageReactionRequest'

    # ============================================
    # Server â†’ Client Payloads
    # ============================================

    MessageResponse:
      name: Message
      title: ë©”ì‹œì§€ ì‘ë‹µ
      summary: ìƒˆë¡œìš´ ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŠ¸ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/MessageResponse'

    ErrorResponse:
      name: Error
      title: ì—ëŸ¬ ì‘ë‹µ
      summary: ì—ëŸ¬ ì•Œë¦¼ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/ErrorPayload'

    JoinRoomSuccessResponse:
      name: JoinRoomSuccess
      title: ì±„íŒ…ë°© ì…ì¥ ì„±ê³µ
      summary: ì±„íŒ…ë°© ì…ì¥ ì„±ê³µ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/JoinRoomSuccessResponse'

    JoinRoomErrorResponse:
      name: JoinRoomError
      title: ì±„íŒ…ë°© ì…ì¥ ì‹¤íŒ¨
      summary: ì±„íŒ…ë°© ì…ì¥ ì‹¤íŒ¨ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          code:
            type: string
            description: |
              ì—ëŸ¬ ì½”ë“œ (optional - ì¼ë¶€ ì‘ë‹µì—ì„œëŠ” ì œê³µë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ)
              - `UNAUTHORIZED`: ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ì
              - `USER_NOT_FOUND`: ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
              - `ROOM_NOT_FOUND`: ì±„íŒ…ë°©ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
              - `JOIN_ROOM_ERROR`: ê¸°íƒ€ ì±„íŒ…ë°© ì…ì¥ ì˜¤ë¥˜
            example: ROOM_NOT_FOUND
          message:
            type: string
            description: ì—ëŸ¬ ë©”ì‹œì§€
            example: ì±„íŒ…ë°©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        required:
          - message

    PreviousMessagesLoadedResponse:
      name: PreviousMessagesLoaded
      title: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì™„ë£Œ
      summary: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì™„ë£Œ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/FetchMessagesResponse'

    MessageLoadStartResponse:
      name: MessageLoadStart
      title: ë©”ì‹œì§€ ë¡œë“œ ì‹œì‘
      summary: ë©”ì‹œì§€ ë¡œë“œ ì‹œì‘ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        description: ë¹ˆ í˜ì´ë¡œë“œ

    ParticipantsUpdateResponse:
      name: ParticipantsUpdate
      title: ì°¸ê°€ì ì—…ë°ì´íŠ¸
      summary: ì°¸ê°€ì ëª©ë¡ ì—…ë°ì´íŠ¸ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: array
        items:
          $ref: '#/components/schemas/UserResponse'

    RoomResponse:
      name: RoomResponse
      title: ì±„íŒ…ë°© ì‘ë‹µ
      summary: ì±„íŒ…ë°© ì •ë³´ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        $ref: '#/components/schemas/RoomResponse'

    RoomDeletedResponse:
      name: RoomDeleted
      title: ì±„íŒ…ë°© ì‚­ì œ
      summary: ì±„íŒ…ë°© ì‚­ì œ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: string
        description: ì‚­ì œëœ ì±„íŒ…ë°© ID
        example: '507f1f77bcf86cd799439011'

    UserLeftResponse:
      name: UserLeft
      title: ì‚¬ìš©ì í‡´ì¥
      summary: ì‚¬ìš©ì í‡´ì¥ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          userId:
            type: string
            description: í‡´ì¥í•œ ì‚¬ìš©ì ID
          name:
            type: string
            description: í‡´ì¥í•œ ì‚¬ìš©ì ì´ë¦„
        required:
          - userId
          - name

    MessagesReadResponse:
      name: MessagesRead
      title: ë©”ì‹œì§€ ì½ìŒ ìƒíƒœ ì—…ë°ì´íŠ¸
      summary: ë©”ì‹œì§€ ì½ìŒ ìƒíƒœ ì—…ë°ì´íŠ¸ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          userId:
            type: string
            description: ì½ì€ ì‚¬ìš©ì ID
          messageIds:
            type: array
            items:
              type: string
            description: ì½ì€ ë©”ì‹œì§€ ID ëª©ë¡
        required:
          - userId
          - messageIds

    MessageReactionUpdateResponse:
      name: MessageReactionUpdate
      title: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì—…ë°ì´íŠ¸
      summary: ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ì—…ë°ì´íŠ¸ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          messageId:
            type: string
            description: ë©”ì‹œì§€ ID
          reactions:
            type: object
            additionalProperties:
              type: array
              items:
                type: string
            description: ë¦¬ì•¡ì…˜ ë§µ (ì´ëª¨ì§€ -> ì‚¬ìš©ì ID ë°°ì—´)
        required:
          - messageId
          - reactions

    DuplicateLoginResponse:
      name: DuplicateLogin
      title: ì¤‘ë³µ ë¡œê·¸ì¸
      summary: ì¤‘ë³µ ë¡œê·¸ì¸ ê°ì§€ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          type:
            type: string
            description: ì¤‘ë³µ ë¡œê·¸ì¸ ìœ í˜•
          deviceInfo:
            type: string
            description: ë””ë°”ì´ìŠ¤ ì •ë³´
          ipAddress:
            type: string
            description: IP ì£¼ì†Œ
          timestamp:
            type: integer
            format: int64
            description: íƒ€ì„ìŠ¤íƒ¬í”„ (milliseconds)
        required:
          - type

    SessionEndedResponse:
      name: SessionEnded
      title: ì„¸ì…˜ ì¢…ë£Œ
      summary: ì„¸ì…˜ ì¢…ë£Œ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          reason:
            type: string
            description: ì¢…ë£Œ ì‚¬ìœ 
          message:
            type: string
            description: ì¢…ë£Œ ë©”ì‹œì§€
        required:
          - reason
          - message

    # ============================================
    # AI Streaming Payloads
    # ============================================

    AiMessageStartResponse:
      name: AiMessageStart
      title: AI ë©”ì‹œì§€ ì‹œì‘
      summary: AI ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          messageId:
            type: string
            description: ë©”ì‹œì§€ ID
          aiType:
            type: string
            enum: [CLAUDE, GEMINI, OPENAI]
            description: AI íƒ€ì…
          timestamp:
            type: integer
            format: int64
            description: ì‹œì‘ ì‹œê°„ (milliseconds)
        required:
          - messageId
          - aiType
          - timestamp

    AiMessageChunkResponse:
      name: AiMessageChunk
      title: AI ë©”ì‹œì§€ ì²­í¬
      summary: AI ìŠ¤íŠ¸ë¦¬ë° ì²­í¬ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          messageId:
            type: string
            description: ë©”ì‹œì§€ ID
          currentChunk:
            type: string
            description: í˜„ì¬ ì²­í¬
          fullContent:
            type: string
            description: ì „ì²´ ë‚´ìš© (ëˆ„ì )
          isCodeBlock:
            type: boolean
            description: ì½”ë“œ ë¸”ë¡ ì—¬ë¶€
          timestamp:
            type: integer
            format: int64
            description: íƒ€ì„ìŠ¤íƒ¬í”„
          aiType:
            type: string
            enum: [CLAUDE, GEMINI, OPENAI]
            description: AI íƒ€ì…
          isComplete:
            type: boolean
            description: ì™„ë£Œ ì—¬ë¶€
        required:
          - messageId
          - fullContent
          - isCodeBlock
          - isComplete

    AiMessageCompleteResponse:
      name: AiMessageComplete
      title: AI ë©”ì‹œì§€ ì™„ë£Œ
      summary: AI ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          messageId:
            type: string
            description: ì„ì‹œ ë©”ì‹œì§€ ID
          _id:
            type: string
            description: ì €ì¥ëœ ë©”ì‹œì§€ ID
          content:
            type: string
            description: ì™„ë£Œëœ ë©”ì‹œì§€ ë‚´ìš©
          aiType:
            type: string
            enum: [CLAUDE, GEMINI, OPENAI]
            description: AI íƒ€ì…
          timestamp:
            type: integer
            format: int64
            description: ì™„ë£Œ ì‹œê°„
          isComplete:
            type: boolean
            description: ì™„ë£Œ ì—¬ë¶€
          query:
            type: string
            description: ì›ë³¸ ì¿¼ë¦¬
          reactions:
            type: object
            additionalProperties:
              type: array
              items:
                type: string
            description: ë¦¬ì•¡ì…˜ ë§µ
        required:
          - _id
          - content
          - aiType
          - timestamp

    AiMessageErrorResponse:
      name: AiMessageError
      title: AI ë©”ì‹œì§€ ì—ëŸ¬
      summary: AI ìŠ¤íŠ¸ë¦¬ë° ì—ëŸ¬ í˜ì´ë¡œë“œ
      contentType: application/json
      payload:
        type: object
        properties:
          messageId:
            type: string
            description: ë©”ì‹œì§€ ID
          error:
            type: string
            description: ì—ëŸ¬ ë©”ì‹œì§€
          aiType:
            type: string
            enum: [CLAUDE, GEMINI, OPENAI]
            description: AI íƒ€ì…
        required:
          - messageId
          - error
          - aiType

  schemas:
    # ============================================
    # Request DTOs
    # ============================================

    ChatMessageRequest:
      type: object
      properties:
        room:
          type: string
          description: ì±„íŒ…ë°© ID
          example: '507f1f77bcf86cd799439011'
        type:
          type: string
          enum: [text, file]
          description: ë©”ì‹œì§€ íƒ€ì…
          default: text
        content:
          type: string
          description: ë©”ì‹œì§€ ë‚´ìš©
          example: 'ì•ˆë…•í•˜ì„¸ìš”!'
        msg:
          type: string
          description: ë©”ì‹œì§€ ë‚´ìš© (í˜¸í™˜ì„±)
        fileData:
          type: object
          description: íŒŒì¼ ë°ì´í„° (typeì´ fileì¸ ê²½ìš°)
          properties:
            _id:
              type: string
              description: íŒŒì¼ ID
          additionalProperties: true
      required:
        - room

    FetchMessagesRequest:
      type: object
      properties:
        roomId:
          type: string
          description: ì±„íŒ…ë°© ID
          example: '507f1f77bcf86cd799439011'
        limit:
          type: integer
          description: ê°€ì ¸ì˜¬ ë©”ì‹œì§€ ê°œìˆ˜
          default: 30
          example: 30
        before:
          type: integer
          format: int64
          description: ì´ì „ ë©”ì‹œì§€ íƒ€ì„ìŠ¤íƒ¬í”„ (milliseconds)
          example: 1699999999999
      required:
        - roomId

    MarkAsReadRequest:
      type: object
      properties:
        roomId:
          type: string
          description: ì±„íŒ…ë°© ID
        messageIds:
          type: array
          items:
            type: string
          description: ì½ì€ ë©”ì‹œì§€ ID ëª©ë¡
      required:
        - messageIds

    MessageReactionRequest:
      type: object
      properties:
        messageId:
          type: string
          description: ë©”ì‹œì§€ ID
        reaction:
          type: string
          description: ë¦¬ì•¡ì…˜ ì´ëª¨ì§€
          example: 'ğŸ‘'
        type:
          type: string
          enum: [add, remove]
          description: ë¦¬ì•¡ì…˜ íƒ€ì… (ì¶”ê°€/ì œê±°)
          example: add
        emoji:
          type: string
          description: ì´ëª¨ì§€ (í˜¸í™˜ì„±)
      required:
        - messageId
        - type

    # ============================================
    # Response DTOs
    # ============================================

    MessageResponse:
      type: object
      properties:
        _id:
          type: string
          description: ë©”ì‹œì§€ ID
          example: '507f1f77bcf86cd799439011'
        room:
          type: string
          description: ì±„íŒ…ë°© ID
        content:
          type: string
          description: ë©”ì‹œì§€ ë‚´ìš©
        sender:
          $ref: '#/components/schemas/UserResponse'
        type:
          type: string
          enum: [text, file, system, ai]
          description: ë©”ì‹œì§€ íƒ€ì…
        file:
          $ref: '#/components/schemas/FileResponse'
        aiType:
          type: string
          enum: [CLAUDE, GEMINI, OPENAI]
          description: AI íƒ€ì… (AI ë©”ì‹œì§€ì¸ ê²½ìš°)
        timestamp:
          type: integer
          format: int64
          description: íƒ€ì„ìŠ¤íƒ¬í”„ (milliseconds)
        reactions:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
          description: ë¦¬ì•¡ì…˜ ë§µ (ì´ëª¨ì§€ -> ì‚¬ìš©ì ID ë°°ì—´)
        readers:
          type: array
          items:
            type: object
            properties:
              userId:
                type: string
              readAt:
                type: integer
                format: int64
          description: ì½ìŒ ì •ë³´
        metadata:
          type: object
          additionalProperties: true
          description: ë©”íƒ€ë°ì´í„° (ììœ  í˜•ì‹)
      required:
        - _id
        - room
        - content
        - type
        - timestamp

    UserResponse:
      type: object
      properties:
        id:
          type: string
          description: ì‚¬ìš©ì ID
          example: '507f1f77bcf86cd799439011'
        name:
          type: string
          description: ì‚¬ìš©ì ì´ë¦„
          example: 'í™ê¸¸ë™'
        email:
          type: string
          format: email
          description: ì´ë©”ì¼
          example: 'user@example.com'
        profileImage:
          type: string
          description: í”„ë¡œí•„ ì´ë¯¸ì§€ URL
          example: 'https://example.com/profile.jpg'
      required:
        - id
        - name
        - email

    FileResponse:
      type: object
      properties:
        _id:
          type: string
          description: íŒŒì¼ ID
        filename:
          type: string
          description: ì €ì¥ëœ íŒŒì¼ëª…
        originalname:
          type: string
          description: ì›ë³¸ íŒŒì¼ëª…
        mimetype:
          type: string
          description: MIME íƒ€ì…
          example: 'image/png'
        size:
          type: integer
          format: int64
          description: íŒŒì¼ í¬ê¸° (bytes)
        user:
          type: string
          description: ì—…ë¡œë“œí•œ ì‚¬ìš©ì ID
        uploadDate:
          type: string
          format: date-time
          description: ì—…ë¡œë“œ ë‚ ì§œ
      required:
        - _id
        - filename
        - originalname
        - mimetype
        - size

    JoinRoomSuccessResponse:
      type: object
      properties:
        roomId:
          type: string
          description: ì±„íŒ…ë°© ID
        participants:
          type: array
          items:
            $ref: '#/components/schemas/UserResponse'
          description: ì°¸ê°€ì ëª©ë¡
        messages:
          type: array
          items:
            $ref: '#/components/schemas/MessageResponse'
          description: ì´ˆê¸° ë©”ì‹œì§€ ëª©ë¡
        hasMore:
          type: boolean
          description: ë” ë§ì€ ë©”ì‹œì§€ ì¡´ì¬ ì—¬ë¶€
        activeStreams:
          type: array
          items:
            type: object
          description: í™œì„± ìŠ¤íŠ¸ë¦¼ ëª©ë¡
      required:
        - roomId
        - participants
        - messages
        - hasMore

    FetchMessagesResponse:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: '#/components/schemas/MessageResponse'
          description: ë©”ì‹œì§€ ëª©ë¡
        hasMore:
          type: boolean
          description: ë” ë§ì€ ë©”ì‹œì§€ ì¡´ì¬ ì—¬ë¶€
      required:
        - messages
        - hasMore

    RoomResponse:
      type: object
      properties:
        _id:
          type: string
          description: ì±„íŒ…ë°© ID
        name:
          type: string
          description: ì±„íŒ…ë°© ì´ë¦„
        hasPassword:
          type: boolean
          description: ë¹„ë°€ë²ˆí˜¸ ì„¤ì • ì—¬ë¶€
        creator:
          $ref: '#/components/schemas/UserResponse'
        participants:
          type: array
          items:
            $ref: '#/components/schemas/UserResponse'
          description: ì°¸ê°€ì ëª©ë¡
        participantsCount:
          type: integer
          description: ì°¸ê°€ì ìˆ˜
        createdAt:
          type: string
          format: date-time
          description: ìƒì„± ë‚ ì§œ
        isCreator:
          type: boolean
          description: í˜„ì¬ ì‚¬ìš©ìê°€ ìƒì„±ìì¸ì§€ ì—¬ë¶€
      required:
        - _id
        - name
        - hasPassword

    ErrorPayload:
      type: object
      properties:
        code:
          type: string
          description: |
            ì—ëŸ¬ ì½”ë“œ (optional - ì¼ë¶€ ì‘ë‹µì—ì„œëŠ” ì œê³µë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ).

            **ì¸ì¦/ì„¸ì…˜ ê´€ë ¨:**
            - `SESSION_EXPIRED`: ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆê±°ë‚˜ ì¸ì¦ ì •ë³´ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ
            - `UNAUTHORIZED`: ì¸ì¦ì´ í•„ìš”í•œ ì‘ì—…ì„ ì‹œë„í•¨

            **ë©”ì‹œì§€ ê´€ë ¨:**
            - `MESSAGE_ERROR`: ë©”ì‹œì§€ ì €ì¥/ì „ì†¡ ê´€ë ¨ ì¼ë°˜ ì˜¤ë¥˜ (ë°ì´í„° ì—†ìŒ, ì‚¬ìš©ì ì—†ìŒ, ê¶Œí•œ ì—†ìŒ, íŒŒì¼ ì˜¤ë¥˜ ë“±)
            - `MESSAGE_REJECTED`: ê¸ˆì¹™ì–´ê°€ í¬í•¨ë˜ì–´ ë©”ì‹œì§€ê°€ ê±°ë¶€ë¨
            - `RATE_LIMIT_EXCEEDED`: ë©”ì‹œì§€ ì „ì†¡ íšŸìˆ˜ ì œí•œ ì´ˆê³¼ (1ë¶„ì— 10000ê°œ)
            - `LOAD_ERROR`: ì´ì „ ë©”ì‹œì§€ ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ

            **ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬ ê´€ë ¨:**
            - ì—ëŸ¬ ì½”ë“œ ì—†ì´ messageë§Œ ë°˜í™˜: Unauthorized, Invalid room, User not found, Room access denied ë“±

            **ë©”ì‹œì§€ ë¦¬ì•¡ì…˜ ê´€ë ¨:**
            - ì—ëŸ¬ ì½”ë“œ ì—†ì´ messageë§Œ ë°˜í™˜: Unauthorized, ë©”ì‹œì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤, ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¦¬ì•¡ì…˜ íƒ€ì…ì…ë‹ˆë‹¤ ë“±

            **ì±„íŒ…ë°© í‡´ì¥ ê´€ë ¨:**
            - ì—ëŸ¬ ì½”ë“œ ì—†ì´ messageë§Œ ë°˜í™˜: Unauthorized, ì±„íŒ…ë°© í‡´ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤ ë“±
          example: MESSAGE_REJECTED
        message:
          type: string
          description: ì—ëŸ¬ ë©”ì‹œì§€. ì—ëŸ¬ ì½”ë“œê°€ ì—†ëŠ” ê²½ìš° ì´ í•„ë“œë§Œ ì œê³µë©ë‹ˆë‹¤.
          example: ë©”ì‹œì§€ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
        retryAfter:
          type: integer
          format: int64
          description: Rate limit ì´ˆê³¼ ì‹œ, ì¬ì‹œë„ ê°€ëŠ¥í•œ ì‹œê°„ (ì´ˆ). RATE_LIMIT_EXCEEDED ì—ëŸ¬ì—ë§Œ í¬í•¨ë¨.
          example: 30
      required:
        - message
